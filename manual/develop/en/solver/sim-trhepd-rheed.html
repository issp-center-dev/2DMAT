<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>sim-trhepd-rheed solver &#8212; 2DMAT 2.3-dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css?v=dfa0e015" />
    <script src="../_static/documentation_options.js?v=4e4c84c2"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sxrd solver" href="sxrd.html" />
    <link rel="prev" title="analytical solver" href="analytical.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>2DMAT 2.3-dev documentation</span></a></h1>
        <h2 class="heading"><span>sim-trhepd-rheed solver</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="analytical.html"><code class="docutils literal notranslate"><span class="pre">analytical</span></code> solver</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="sxrd.html"><code class="docutils literal notranslate"><span class="pre">sxrd</span></code> solver</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="sim-trhepd-rheed-solver">
<h1><code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed</span></code> solver<a class="headerlink" href="#sim-trhepd-rheed-solver" title="Link to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed</span></code> is a <code class="docutils literal notranslate"><span class="pre">Solver</span></code> that uses <a class="reference external" href="https://github.com/sim-trhepd-rheed/sim-trhepd-rheed">sim-trhepd-rheed</a> to calculate the diffraction rocking curve from the atomic position <span class="math notranslate nohighlight">\(x\)</span> and returns the deviation from the experimental rocking curve as <span class="math notranslate nohighlight">\(f(x)\)</span>.</p>
<section id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Link to this heading">¶</a></h2>
<p>You will need to install <a class="reference external" href="https://github.com/sim-trhepd-rheed/sim-trhepd-rheed">sim-trhepd-rheed</a> beforehand.</p>
<ol class="arabic simple">
<li><p>Download the source code from the official <code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed</span></code> website.</p></li>
<li><p>Move to <code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed/src</span></code> folder and make <code class="docutils literal notranslate"><span class="pre">bulk.exe</span></code> and <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code> by using <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p></li>
</ol>
<p>Before running <code class="docutils literal notranslate"><span class="pre">py2dmat</span></code>, run <code class="docutils literal notranslate"><span class="pre">bulk.exe</span></code> to create the bulk data.
The <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code> is called from <code class="docutils literal notranslate"><span class="pre">py2dmat</span></code>.</p>
</section>
<section id="input-parameters">
<h2>Input parameters<a class="headerlink" href="#input-parameters" title="Link to this heading">¶</a></h2>
<p>Input parameters can be specified in subsections <code class="docutils literal notranslate"><span class="pre">config</span></code>, <code class="docutils literal notranslate"><span class="pre">post</span></code>, <code class="docutils literal notranslate"><span class="pre">param</span></code>, <code class="docutils literal notranslate"><span class="pre">reference</span></code> in <code class="docutils literal notranslate"><span class="pre">solver</span></code> section.</p>
<section id="solver-section">
<h3>[<code class="docutils literal notranslate"><span class="pre">solver</span></code>] section<a class="headerlink" href="#solver-section" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">generate_rocking_curve</span></code></p>
<p>Format: boolean (default: false)</p>
<p>Description: Whether to generate <code class="docutils literal notranslate"><span class="pre">RockingCurve_calculated.txt</span></code>.
If <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">RockingCurve_calculated.txt</span></code> will be generated in the working directory <code class="docutils literal notranslate"><span class="pre">Log%%%_###</span></code>.
Note that if <code class="docutils literal notranslate"><span class="pre">remove_work_dir</span></code> (in [<code class="docutils literal notranslate"><span class="pre">post</span></code>] subsection) is <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">Log%%%_###</span></code> will be removed.</p>
</li>
</ul>
</section>
<section id="solver-config-subsection">
<h3>[<code class="docutils literal notranslate"><span class="pre">solver.config</span></code>] subsection<a class="headerlink" href="#solver-config-subsection" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">surface_exec_file</span></code></p>
<p>Format: string (default: “surf.exe”)</p>
<p>Description: Path to <code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed</span></code> surface reflection solver <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">surface_input_file</span></code></p>
<p>Format: string (default: “surf.txt”)</p>
<p>Description: Input file for surface structure.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bulk_output_file</span></code></p>
<p>Format: string (default: “bulkP.b”)</p>
<p>Description: Output file for bulk structure.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">surface_output_file</span></code></p>
<p>Format: string (default: “surf-bulkP.s”)</p>
<p>Description: Output file for surface structure.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">calculated_first_line</span></code></p>
<p>Format: integer (default: 5)</p>
<p>Description: In the output file, the first line to be read as D(x).
The last line is automatically calculated from the number of the reference data.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">calculated_info_line</span></code></p>
<p>Format: integer (default: 2)</p>
<p>Description: In the output file, the line contains the information of the calculated data – the number of glancing angles (second column) and the number of beams (third column).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cal_number</span></code></p>
<p>Format: Integer or List of integers</p>
<p>Description: In the output file, the columns to be read as D(x). Multiple columns can be specified (many-beam condition).</p>
</li>
</ul>
</section>
<section id="solver-post-subsection">
<h3>[<code class="docutils literal notranslate"><span class="pre">solver.post</span></code>] subsection<a class="headerlink" href="#solver-post-subsection" title="Link to this heading">¶</a></h3>
<p>This subsection is used to the postprocess – to specify how to calculate the objective function, that is, the deviation between the experimental and computational data, and to draw the rocking curve.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Rfactor_type</span></code></p>
<p>Format: string (“A” or “B”, default: “A”)</p>
<p>Description: This parameter specifies how to calculate the R-factor to be minimized.
Let <span class="math notranslate nohighlight">\(n\)</span> be the number of dataset, <span class="math notranslate nohighlight">\(m\)</span> be the number of glancing angles, and <span class="math notranslate nohighlight">\(v^{(n)} = (v^{(n)}_{1}, v^{(n)}_{2}, \dots ,v^{(n)}_{m})\)</span> be the calculated data.
With the weights of the beams, <span class="math notranslate nohighlight">\(w^{(j)}\)</span>, R-factors is defined as follows:</p>
<blockquote>
<div><ul>
<li><p>“A” type:</p>
<div class="math notranslate nohighlight">
\[R = \sqrt{ \sum_{j}^{n} w^{(j)} \sum_{i}^{m} \left(u^{(j)}_{i}-v^{(j)}_{i}\right)^{2} }\]</div>
</li>
<li><p>“A2” type:</p>
<div class="math notranslate nohighlight">
\[R^{2} = \sum_{j}^{n} w^{(j)} \sum_{i}^{m} \left(u^{(j)}_{i}-v^{(j)}_{i}\right)^{2}\]</div>
</li>
<li><p>“B” type:</p>
<div class="math notranslate nohighlight">
\[R = \frac{\sum_{i}^{m} \left(u^{(1)}_{i}-v^{(1)}_{i}\right)^{2}}{\sum_{i}^{m} \left(u^{(1)}_{i}\right)^{2} + \sum_{i}^{m} (v^{(1)}_{i})^2}\]</div>
<ul class="simple">
<li><p>“B” type is available only for the single dataset (<span class="math notranslate nohighlight">\(n=1\)</span>).</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">normalization</span></code></p>
<p>Format: string (“TOTAL” or “MANY_BEAM”)</p>
<p>Description: This parameter specifies how to normalize the experimental and computational data vectors.</p>
<ul class="simple">
<li><p>“TOTAL”</p>
<ul>
<li><p>To normalize the data as the summation is 1.</p></li>
<li><p>The number of dataset should be one (the number of <code class="docutils literal notranslate"><span class="pre">cal_number</span></code> should be one).</p></li>
</ul>
</li>
<li><p>“MANY_BEAM”</p>
<ul>
<li><p>To normalize with weights as specified by <code class="docutils literal notranslate"><span class="pre">weight_type</span></code>.</p></li>
</ul>
</li>
</ul>
<p><strong>NOTE: “MAX” is no longer available</strong></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight_type</span></code></p>
<p>Format: string or <code class="docutils literal notranslate"><span class="pre">None</span></code>. “calc” or “manual” (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>Description: The weights of the datasets for the “MANY_BEAM” normalization.</p>
<ul class="simple">
<li><p>“calc”</p></li>
</ul>
<div class="math notranslate nohighlight">
\[w^{(n)} = \left(\frac{\sum_i^m v^{(n)}_{i}}{\sum_j^n \sum_i^m v^{(j)}_i} \right)^2\]</div>
<ul class="simple">
<li><p>“manual”</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(w^{(n)}\)</span> is specified by <code class="docutils literal notranslate"><span class="pre">spot_weight</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">spot_weight</span></code></p>
<p>Format: list of float (mandatory when <code class="docutils literal notranslate"><span class="pre">weight_type</span></code> is “manual”)</p>
<p>Description: The weights of the beams in the calculation of R-factor.
The weights are automatically normalized as the sum be 1.
For example, [3,2,1] means <span class="math notranslate nohighlight">\(w^{(1)}=1/2, w^{(2)}=1/3, w^{(3)}=1/6\)</span>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">omega</span></code></p>
<p>Format: float (default: 0.5)</p>
<p>Description: This parameter specifies the half-width of convolution.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">remove_work_dir</span></code></p>
<p>Format: boolean (default: false)</p>
<p>Description: Whether to remove working directories <code class="docutils literal notranslate"><span class="pre">Log%%%_###</span></code> after reading R-factor or not</p>
</li>
</ul>
</section>
<section id="solver-param-subsection">
<h3>[<code class="docutils literal notranslate"><span class="pre">solver.param</span></code>] subsection<a class="headerlink" href="#solver-param-subsection" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">string_list</span></code></p>
<p>Format: list of string. The length should match the value of dimension (default: [“value_01”, “value_02”]).</p>
<p>Description: List of placeholders to be used in the reference template file to create the input file for the solver. These strings will be replaced with the values of the parameters being searched for.</p>
</li>
</ul>
</section>
<section id="solver-reference-subsection">
<h3>[<code class="docutils literal notranslate"><span class="pre">solver.reference</span></code>] subsection<a class="headerlink" href="#solver-reference-subsection" title="Link to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p>
<p>Format: string (default: <code class="docutils literal notranslate"><span class="pre">experiment.txt</span></code>)</p>
<p>Description: Path to the reference data file.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_first_line</span></code></p>
<p>Format: integer</p>
<p>Description: In the reference data file, the first line to be read as Dexp. The default value is 1, that is, the first line of the file.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_last_line</span></code></p>
<p>Format: integer</p>
<p>Description: In the reference data file, the last line to be read as Dexp. If omitted, all lines from the first line to the end of the file will be read.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">exp_number</span></code></p>
<p>Format: Integer or List of integers</p>
<p>Description: In the reference data file, the column numbers to be read. Multiple columns can be specified (many-beam condition).</p>
</li>
</ul>
</section>
</section>
<section id="reference-file">
<h2>Reference file<a class="headerlink" href="#reference-file" title="Link to this heading">¶</a></h2>
<section id="input-template-file">
<h3>Input template file<a class="headerlink" href="#input-template-file" title="Link to this heading">¶</a></h3>
<p>The input template file <code class="docutils literal notranslate"><span class="pre">template.txt</span></code> is a template for creating an input file for <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code>.
The parameters to be moved in <code class="docutils literal notranslate"><span class="pre">py2dmat</span></code> (such as the atomic coordinates you want to find) should be replaced with the appropriate string, such as <code class="docutils literal notranslate"><span class="pre">value_*</span></code>.
The strings to be used are specified by <code class="docutils literal notranslate"><span class="pre">string_list</span></code> in the <code class="docutils literal notranslate"><span class="pre">[solver]</span></code> - <code class="docutils literal notranslate"><span class="pre">[param]</span></code> section of the input file for the solver.
An example template is shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>                                    <span class="p">,</span><span class="n">NELMS</span><span class="p">,</span>  <span class="o">--------</span> <span class="n">Ge</span><span class="p">(</span><span class="mi">001</span><span class="p">)</span><span class="o">-</span><span class="n">c4x2</span>
<span class="mi">32</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.1</span>                           <span class="p">,</span><span class="n">Ge</span> <span class="n">Z</span><span class="p">,</span><span class="n">da1</span><span class="p">,</span><span class="n">sap</span>
<span class="mf">0.6</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.6</span>                          <span class="p">,</span><span class="n">BH</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">BK</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">BZ</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="mi">32</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.1</span>                           <span class="p">,</span><span class="n">Ge</span> <span class="n">Z</span><span class="p">,</span><span class="n">da1</span><span class="p">,</span><span class="n">sap</span>
<span class="mf">0.4</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.4</span>                          <span class="p">,</span><span class="n">BH</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">BK</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">BZ</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span>               <span class="p">,</span><span class="n">NSGS</span><span class="p">,</span><span class="n">msa</span><span class="p">,</span><span class="n">msb</span><span class="p">,</span><span class="n">nsa</span><span class="p">,</span><span class="n">nsb</span><span class="p">,</span><span class="n">dthick</span><span class="p">,</span><span class="n">DXS</span><span class="p">,</span><span class="n">DYS</span>
<span class="mi">8</span>                                    <span class="p">,</span><span class="n">NATM</span>
<span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.34502591</span>  <span class="mi">1</span>       <span class="n">value_01</span>   <span class="p">,</span><span class="n">IELM</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">ocr</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">X</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">Y</span><span class="p">(</span><span class="n">I</span><span class="p">),</span><span class="n">Z</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.752457792</span> <span class="mi">1</span>       <span class="n">value_02</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.480003343</span> <span class="mf">1.465005851</span>     <span class="n">value_03</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">2</span>   <span class="mf">1.497500418</span>     <span class="mf">2.281675</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span>   <span class="mf">1.5</span>     <span class="mf">1.991675</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span>   <span class="mi">1</span>       <span class="mf">0.847225</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">2</span>   <span class="mi">1</span>       <span class="mf">0.807225</span>
<span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.009998328</span> <span class="mi">1</span>       <span class="mf">0.597225</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span>                                  <span class="p">,(</span><span class="n">WDOM</span><span class="p">,</span><span class="n">I</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">NDOM</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">value_01</span></code>, <code class="docutils literal notranslate"><span class="pre">value_02</span></code>, and <code class="docutils literal notranslate"><span class="pre">value_03</span></code> are the parameters to be moved in <code class="docutils literal notranslate"><span class="pre">py2dmat</span></code>.</p>
</section>
<section id="target-file">
<h3>Target file<a class="headerlink" href="#target-file" title="Link to this heading">¶</a></h3>
<p>This file (<code class="docutils literal notranslate"><span class="pre">experiment.txt</span></code>) contains the data to be targeted.
The first column contains the angle, and the second and following columns contain the calculated value of the reflection intensity multiplied by the weight.
An example of the file is shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">3.00000e-01</span> <span class="mf">8.17149e-03</span> <span class="mf">1.03057e-05</span> <span class="mf">8.88164e-15</span> <span class="o">...</span>
<span class="mf">4.00000e-01</span> <span class="mf">1.13871e-02</span> <span class="mf">4.01611e-05</span> <span class="mf">2.23952e-13</span> <span class="o">...</span>
<span class="mf">5.00000e-01</span> <span class="mf">1.44044e-02</span> <span class="mf">1.29668e-04</span> <span class="mf">4.53633e-12</span> <span class="o">...</span>
<span class="mf">6.00000e-01</span> <span class="mf">1.68659e-02</span> <span class="mf">3.49471e-04</span> <span class="mf">7.38656e-11</span> <span class="o">...</span>
<span class="mf">7.00000e-01</span> <span class="mf">1.85375e-02</span> <span class="mf">7.93037e-04</span> <span class="mf">9.67719e-10</span> <span class="o">...</span>
<span class="mf">8.00000e-01</span> <span class="mf">1.93113e-02</span> <span class="mf">1.52987e-03</span> <span class="mf">1.02117e-08</span> <span class="o">...</span>
<span class="mf">9.00000e-01</span> <span class="mf">1.92590e-02</span> <span class="mf">2.53448e-03</span> <span class="mf">8.69136e-08</span> <span class="o">...</span>
<span class="mf">1.00000e+00</span> <span class="mf">1.86780e-02</span> <span class="mf">3.64176e-03</span> <span class="mf">5.97661e-07</span> <span class="o">...</span>
<span class="mf">1.10000e+00</span> <span class="mf">1.80255e-02</span> <span class="mf">4.57932e-03</span> <span class="mf">3.32760e-06</span> <span class="o">...</span>
<span class="mf">1.20000e+00</span> <span class="mf">1.77339e-02</span> <span class="mf">5.07634e-03</span> <span class="mf">1.50410e-05</span> <span class="o">...</span>
<span class="mf">1.30000e+00</span> <span class="mf">1.80264e-02</span> <span class="mf">4.99008e-03</span> <span class="mf">5.53791e-05</span> <span class="o">...</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="output-file">
<h2>Output file<a class="headerlink" href="#output-file" title="Link to this heading">¶</a></h2>
<p>For <code class="docutils literal notranslate"><span class="pre">sim-trhepd-rheed</span></code>, the files output by <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code> will be output in the <code class="docutils literal notranslate"><span class="pre">Log%%%%%_#####</span></code> folder under the folder with the rank number.
<code class="docutils literal notranslate"><span class="pre">%%%%%</span></code> means an index of iteration in <code class="docutils literal notranslate"><span class="pre">Algorithm</span></code> (e.g., steps in Monte Carlo),
and <code class="docutils literal notranslate"><span class="pre">#####</span></code> means an index of group (e.g., replica index in Monte Carlo).
In large calculation, the number of these folders becomes too large to be written in the storage of the system.
For such a case, let <code class="docutils literal notranslate"><span class="pre">solver.post.remove_work_dir</span></code> parameter be <code class="docutils literal notranslate"><span class="pre">true</span></code> in order to remove these folders.
This section describes the own files that are output by this solver.</p>
<section id="stdout">
<h3><code class="docutils literal notranslate"><span class="pre">stdout</span></code><a class="headerlink" href="#stdout" title="Link to this heading">¶</a></h3>
<p>It contains the standard output of <code class="docutils literal notranslate"><span class="pre">surf.exe</span></code>.
An example is shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>bulk-filename (end=e) ? :
bulkP.b
structure-filename (end=e) ? :
surf.txt
output-filename :
surf-bulkP.s
</pre></div>
</div>
</section>
<section id="rockingcurve-calculated-txt">
<h3><code class="docutils literal notranslate"><span class="pre">RockingCurve_calculated.txt</span></code><a class="headerlink" href="#rockingcurve-calculated-txt" title="Link to this heading">¶</a></h3>
<p>This file is located in the <code class="docutils literal notranslate"><span class="pre">Log%%%%%_#####</span></code> folder.
At the beginning of the file, the lines beginning with <code class="docutils literal notranslate"><span class="pre">#</span></code> are headers.
The header contains the values of the input variables, the objective function value <code class="docutils literal notranslate"><span class="pre">f(x)</span></code>, the parameters <code class="docutils literal notranslate"><span class="pre">Rfactor_type</span></code>, <code class="docutils literal notranslate"><span class="pre">normalization</span></code>, <code class="docutils literal notranslate"><span class="pre">weight_type</span></code>, <code class="docutils literal notranslate"><span class="pre">cal_number</span></code>, <code class="docutils literal notranslate"><span class="pre">spot_weight</span></code>, and what is marked in the data portion columns (e.g. <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">#0</span> <span class="pre">glancing_angle</span></code>).</p>
<p>The header is followed by the data.
The first column shows the glancing angle, and the second and subsequent columns show the intensity of each data column.
You can see which data columns are marked in the header. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># #0 glancing_angle</span>
<span class="c1"># #1 cal_number=1</span>
<span class="c1"># #2 cal_number=2</span>
<span class="c1"># #3 cal_number=4</span>
</pre></div>
</div>
<p>shows that the first column is the glancing angle, and the second, third, and fourth columns are the calculated data corresponding to the first, second, and fourth columns of the calculated data file, respectively.</p>
<p>Intencities in each column are normalized so that the sum of the intensity is 1.
To calculate the objective function value (R-factor and R-factor squared), the data columns are weighted by <code class="docutils literal notranslate"><span class="pre">spot_weight</span></code> and normalized by <code class="docutils literal notranslate"><span class="pre">normalization</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#value_01 =  0.00000 value_02 =  0.00000</span>
<span class="c1">#Rfactor_type = A</span>
<span class="c1">#normalization = MANY_BEAM</span>
<span class="c1">#weight_type = manual</span>
<span class="c1">#fx(x) = 0.03686180462340505</span>
<span class="c1">#cal_number = [1, 2, 4, 6, 8]</span>
<span class="c1">#spot_weight = [0.933 0.026 0.036 0.003 0.002]</span>
<span class="c1">#NOTICE : Intensities are NOT multiplied by spot_weight.</span>
<span class="c1">#The intensity I_(spot) for each spot is normalized as in the following equation.</span>
<span class="c1">#sum( I_(spot) ) = 1</span>
<span class="c1">#</span>
<span class="c1"># #0 glancing_angle</span>
<span class="c1"># #1 cal_number=1</span>
<span class="c1"># #2 cal_number=2</span>
<span class="c1"># #3 cal_number=4</span>
<span class="c1"># #4 cal_number=6</span>
<span class="c1"># #5 cal_number=8</span>
<span class="mf">0.30000</span> <span class="mf">1.278160358686800e-02</span> <span class="mf">1.378767858296659e-04</span> <span class="mf">8.396046839668212e-14</span> <span class="mf">1.342648818357391e-30</span> <span class="mf">6.697979700048016e-53</span>
<span class="mf">0.40000</span> <span class="mf">1.778953628930054e-02</span> <span class="mf">5.281839702773564e-04</span> <span class="mf">2.108814173486245e-12</span> <span class="mf">2.467220122612354e-28</span> <span class="mf">7.252675318478533e-50</span>
<span class="mf">0.50000</span> <span class="mf">2.247181148723425e-02</span> <span class="mf">1.671115124520428e-03</span> <span class="mf">4.250758278908295e-11</span> <span class="mf">3.632860054842994e-26</span> <span class="mf">6.291667506376419e-47</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="analytical.html"><code class="docutils literal notranslate"><span class="pre">analytical</span></code> solver</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="sxrd.html"><code class="docutils literal notranslate"><span class="pre">sxrd</span></code> solver</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2020, Institute for Solid State Physics, University of Tokyo.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>